<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:a="http://xmlns.jcp.org/jsf/passthrough" lang="en">

<h:outputStylesheet library="css" name="style.css" />

<ui:composition template="/WEB-INF/template/template.xhtml">

	<ui:define name="content">
		<h:body>
			<div class="dashboard-admin">
				<h:form id="dashboardAdminForm">
					<div class="row">
						<div class="titles">
							<h3>Tableau de bord de votre association
								#{showUserController.associationSelected.legalName}</h3>
							<h4>Bienvenue : #{userLoginController.displayUserUsername()}</h4>
							<p:separator />
						</div>

					</div>
					<div class="row">
						<div class="btn-dashbord-admin">
							<h3>Visualiser</h3>
							<h:commandButton id="adherents" value="Adhérents" />
							<h:commandButton id="activites" value="Activités"
								action="#{navController.activityList()}" />				
							<h:commandButton id="materiels" value="Matériels"
								action="#{navController.matosList()}" />
							<h:commandButton id="events" value="Événements"
								action="#{navController.eventList()}" />
							<h:commandButton id="publi" value="Publications"
								action="#{navController.publiList()}" />
							<h:commandButton id="configEspace" value="Modif visuel"
								action="#{navController.configSpace()}" />
						</div>
					</div>
					<div class="row d-flex justify-content-center align-items-center">
						<div class="btn-dashbord-admin-create">
							<h3>Créer</h3>
							<h:commandButton id="activityCreation" value="Ajout Activité"
								action="#{navController.creationActivity()}" />
							<h:commandButton id="matosCreation" value="Ajout Matériel"
								action="#{navController.creationMatos()}" />
							<h:commandButton id="evenementsCreation" value="Ajout événement"
								action="#{navController.creationEvent()}" />
							<h:commandButton id="publicationCreation" value="Ajout publication"
								action="#{navController.creationPubli()}" />
						</div>
					</div>


					<div class="row d-flex justify-content-center">
						<div class="create-edite-delete">
							<div class="members-list">
								<h3 class="text-center">LISTE DES MEMBRES</h3>
								<hr />
								<div class="section-table">
									<h:form>
										<h:dataTable class="data-table" cellpadding="15"
											cellspacing="10"
											value="#{showAssociationController.recupAllMembersOfAssoc()}"
											var="user">
											<h:column>
												<f:facet name="header">Nom</f:facet>
					                          	#{user.userProfile.lastName}
					                        </h:column>
											<h:column>
												<f:facet name="header">Prenom</f:facet>
					                          	#{user.userProfile.firstName}
					                        </h:column>
											<h:column>
												<f:facet name="header">Date de naissance</f:facet>
					                          	#{user.userProfile.birthday}
					                        </h:column>
											<h:column>
												<f:facet name="header">Email n°1</f:facet>
					                          	#{user.userProfile.userContact.primaryEmail}
					                        </h:column>
											<h:column>
												<f:facet name="header">Email n°2</f:facet>
												#{user.userProfile.userContact.secondaryEmail}
											</h:column>
											<h:column>
												<f:facet name="header">Telephone</f:facet>
												#{user.userProfile.userContact.phone.phoneNumber}
											</h:column>

											<h:column>
												<f:facet name="header"></f:facet>								
												<h:commandButton id="button-delete" value="Supprimer"
													action="#{showUserController.deleteUser(user.userId)}"></h:commandButton>
											</h:column>


										</h:dataTable>
									</h:form>
								</div>
							</div>
						</div>
					</div>
				</h:form>
			</div>
		</h:body>
	</ui:define>
</ui:composition>
</html>